/**
 * Created by Administrator on 2017/7/12.
 */
import React, {Component} from 'react';
import withWidth, {MEDIUM, LARGE} from 'material-ui/utils/withWidth';
import 'whatwg-fetch';


const mapStyle = {
    top: '64px',
    bottom: '0px',
    left: '256px',
    right: '0px',
    position:'absolute'
};

var g_points = null;
var g_map = null;
var g_car = null;
var g_BMap = null;
var g_index = 0;

class Riding extends Component {
    componentDidMount () {
        let BMap = window.BMap;
        g_BMap = BMap;
        //获取所有点的坐标
        g_points = [
            new BMap.Point(116.33287043558,39.953792679052),
            new BMap.Point(116.3328769733,39.953793143494),
            new BMap.Point(116.3330607807,39.953729632152),
            new BMap.Point(116.3332628949,39.953749233756),
            new BMap.Point(116.33345486408,39.953696804444),
            new BMap.Point(116.33354793882,39.953612158607),
            new BMap.Point(116.33367203487,39.953498674419),
            new BMap.Point(116.333670585,39.953387711389),
            new BMap.Point(116.33361191402,39.953237785477),
            new BMap.Point(116.33353149155,39.953133969065),
            new BMap.Point(116.33094718069,39.95698443926),
            new BMap.Point(116.33084126202,39.957085707336),
            new BMap.Point(116.33089311541,39.957169678454),
            new BMap.Point(116.33092616877,39.957257971438),
            new BMap.Point(116.33086009443,39.957421934883),
            new BMap.Point(116.33092367382,39.957514162903),
            new BMap.Point(116.33090358996,39.957605333782),
            new BMap.Point(116.33091402394,39.957692028474),
            new BMap.Point(116.33093077064,39.957828025997),
            new BMap.Point(116.33093195244,39.957928954409),
            new BMap.Point(116.33129617095,39.953324778887),
            new BMap.Point(116.3312638565,39.953466299659),
            new BMap.Point(116.33127402026,39.953568734929),
            new BMap.Point(116.33129864469,39.953694045928),
            new BMap.Point(116.33131127196,39.953809474118),
            new BMap.Point(116.33135878894,39.953938286918),
            new BMap.Point(116.3313201813,39.954044071685),
            new BMap.Point(116.33133393997,39.954208870734),
            new BMap.Point(116.33130575122,39.954392125623),
            new BMap.Point(116.33131618552,39.954488860369),
            new BMap.Point(116.33241346247,39.952561170675),
            new BMap.Point(116.33224756279,39.952570545695),
            new BMap.Point(116.33177591672,39.95251487929),
            new BMap.Point(116.33163723682,39.952521263828),
            new BMap.Point(116.33151600852,39.952550499953),
            new BMap.Point(116.3314605139,39.952669250504),
            new BMap.Point(116.33145517086,39.952807432583),
            new BMap.Point(116.33146723328,39.952901974882),
            new BMap.Point(116.33143245319,39.953027242706),
            new BMap.Point(116.33135793403,39.953208110579),
            new BMap.Point(116.33129146828,39.954584968314),
            new BMap.Point(116.33132099373,39.954701262576),
            new BMap.Point(116.33135705198,39.95480906076),
            new BMap.Point(116.33130624052,39.954981214626),
            new BMap.Point(116.33126137879,39.95509956566),
            new BMap.Point(116.33121134305,39.955222056191),
            new BMap.Point(116.33116157366,39.955337489932),
            new BMap.Point(116.33115322359,39.955452109105),
            new BMap.Point(116.33114977858,39.955566392608),
            new BMap.Point(116.33115152417,39.955695532262),
            new BMap.Point(116.33057461282,39.960777302554),
            new BMap.Point(116.33054747689,39.960900053022),
            new BMap.Point(116.33049228224,39.961036209841),
            new BMap.Point(116.33042177048,39.961116134143),
            new BMap.Point(116.33030308227,39.961264560484),
            new BMap.Point(116.33027352845,39.96142452543),
            new BMap.Point(116.33021755444,39.9616027637),
            new BMap.Point(116.33024905901,39.961768404101),
            new BMap.Point(116.33024724204,39.961862048676),
            new BMap.Point(116.33024053559,39.96197258481),
            new BMap.Point(116.33110666124,39.955811717879),
            new BMap.Point(116.33106997608,39.955931053188),
            new BMap.Point(116.33107418155,39.956067215856),
            new BMap.Point(116.33105195094,39.956199386075),
            new BMap.Point(116.33103214901,39.956303846782),
            new BMap.Point(116.33101179274,39.956397461102),
            new BMap.Point(116.33097045563,39.956493796064),
            new BMap.Point(116.33100599711,39.956624659587),
            new BMap.Point(116.3309775053,39.956762612849),
            new BMap.Point(116.33098821215,39.956851746015),
            new BMap.Point(116.33348481776,39.95300290517),
            new BMap.Point(116.33353128288,39.952866699298),
            new BMap.Point(116.33353580974,39.952733689855),
            new BMap.Point(116.33341620119,39.952671846817),
            new BMap.Point(116.33327017598,39.952617648842),
            new BMap.Point(116.33311544468,39.95258310556),
            new BMap.Point(116.33297489871,39.952584227713),
            new BMap.Point(116.33282941783,39.952550148865),
            new BMap.Point(116.33268804541,39.952552123687),
            new BMap.Point(116.33254939698,39.952560320228),
            new BMap.Point(116.3309687207,39.958204434809),
            new BMap.Point(116.33089908983,39.958349178684),
            new BMap.Point(116.33081448306,39.958508507794),
            new BMap.Point(116.33074102655,39.958643812705),
            new BMap.Point(116.33075233181,39.958786123434),
            new BMap.Point(116.33078706055,39.958913467459),
            new BMap.Point(116.33081115254,39.959031728349),
            new BMap.Point(116.33081015176,39.959127530895),
            new BMap.Point(116.33081873672,39.959273949273),
            new BMap.Point(116.33081671168,39.959439504642),
            new BMap.Point(116.3307751164,39.959546704796),
            new BMap.Point(116.33076215671,39.959675773577),
            new BMap.Point(116.33075301897,39.959811575294),
            new BMap.Point(116.3307547847,39.959949673217),
            new BMap.Point(116.33076034672,39.960067368447),
            new BMap.Point(116.33074818808,39.960177974568),
            new BMap.Point(116.33073029059,39.960271833574),
            new BMap.Point(116.33071158955,39.960380357034),
            new BMap.Point(116.33066922416,39.960536687021),
            new BMap.Point(116.33061644078,39.960628575152),
            new BMap.Point(116.33024336647,39.962080819187),
            new BMap.Point(116.33020561851,39.962221903076),
            new BMap.Point(116.3301855548,39.962330181037),
            new BMap.Point(116.33011310055,39.962378396716),
            new BMap.Point(116.33014081465,39.962567967664),
            new BMap.Point(116.33013218758,39.9626649629),
            new BMap.Point(116.33011543776,39.962817156853),
            new BMap.Point(116.33010245094,39.962915297963),
            new BMap.Point(116.33009331225,39.963046220871),
            new BMap.Point(116.3300721516,39.963147460249),
            new BMap.Point(116.33004390428,39.96324879806),
            new BMap.Point(116.33002386453,39.963381229297),
            new BMap.Point(116.33001442386,39.963482035732),
            new BMap.Point(116.32999984434,39.963623346598),
            new BMap.Point(116.32998690082,39.963765177647),
            new BMap.Point(116.33000119855,39.963890891571),
            new BMap.Point(116.33000650405,39.964019172633),
            new BMap.Point(116.32999953719,39.964140568559),
            new BMap.Point(116.33002419688,39.964270480808),
            new BMap.Point(116.33000000026,39.964333229913),
            new BMap.Point(116.32961215802,39.967125016423),
            new BMap.Point(116.32959159988,39.96728568231),
            new BMap.Point(116.32955383636,39.967414299518),
            new BMap.Point(116.32951198812,39.967547588604),
            new BMap.Point(116.32949060771,39.967704468201),
            new BMap.Point(116.32948116325,39.967802292858),
            new BMap.Point(116.32940145729,39.967971128024),
            new BMap.Point(116.32938963204,39.968143069081),
            new BMap.Point(116.32938454073,39.968232691311),
            new BMap.Point(116.32938792269,39.968345258641),
            new BMap.Point(116.32980809343,39.965694891648),
            new BMap.Point(116.32976596944,39.965822208379),
            new BMap.Point(116.32976091908,39.965951990906),
            new BMap.Point(116.32975914237,39.96608444117),
            new BMap.Point(116.3297470221,39.966231690152),
            new BMap.Point(116.32973066744,39.966507082177),
            new BMap.Point(116.32976867587,39.966627305629),
            new BMap.Point(116.32974615924,39.966736166752),
            new BMap.Point(116.32971084694,39.966861218373),
            new BMap.Point(116.32964146215,39.966987836069),
            new BMap.Point(116.32938122365,39.968463396811),
            new BMap.Point(116.32933170456,39.96883858327),
            new BMap.Point(116.32929589351,39.969015751762),
            new BMap.Point(116.32932052827,39.969117974555),
            new BMap.Point(116.32931681354,39.969222230634),
            new BMap.Point(116.32927303507,39.969336828661),
            new BMap.Point(116.32924048512,39.969504725066),
            new BMap.Point(116.32920137407,39.969654263573),
            new BMap.Point(116.32917969815,39.96979161241),
            new BMap.Point(116.3291606918,39.969870851742),
            new BMap.Point(116.32848432096,39.972197035327),
            new BMap.Point(116.32841517179,39.972309585526),
            new BMap.Point(116.32832252964,39.972376084749),
            new BMap.Point(116.32833763945,39.972497700155),
            new BMap.Point(116.32845436261,39.972525006906),
            new BMap.Point(116.32864059568,39.97253881734),
            new BMap.Point(116.32880635545,39.972532322284),
            new BMap.Point(116.32896690222,39.972496068876),
            new BMap.Point(116.32915254624,39.972482805718),
            new BMap.Point(116.32935702921,39.972508097724),
            new BMap.Point(116.32880041595,39.971147936298),
            new BMap.Point(116.32882341841,39.97125397401),
            new BMap.Point(116.32878018659,39.971377530369),
            new BMap.Point(116.32874840698,39.971503091187),
            new BMap.Point(116.32876369977,39.971529460988),
            new BMap.Point(116.32874309427,39.971651059613),
            new BMap.Point(116.32870991407,39.971737837075),
            new BMap.Point(116.32864541261,39.971859808286),
            new BMap.Point(116.32860000515,39.971992084009),
            new BMap.Point(116.32853198132,39.972139618579),
            new BMap.Point(116.32911500471,39.969987380502),
            new BMap.Point(116.32909088825,39.970139147573),
            new BMap.Point(116.3290607476,39.970263865747),
            new BMap.Point(116.3290556764,39.970376553719),
            new BMap.Point(116.32901052742,39.970487378648),
            new BMap.Point(116.32902806287,39.970578302261),
            new BMap.Point(116.32896766256,39.970706173064),
            new BMap.Point(116.32890479337,39.970819156921),
            new BMap.Point(116.32890758381,39.970886142368),
            new BMap.Point(116.32887716669,39.971009239151),
            new BMap.Point(116.3295538474,39.972508014979),
            new BMap.Point(116.32974740716,39.972529980854),
            new BMap.Point(116.32996217287,39.972501473045),
            new BMap.Point(116.33007069314,39.972541756743),
            new BMap.Point(116.33027893535,39.972548114447),
            new BMap.Point(116.33039912074,39.972537787715),
            new BMap.Point(116.33064746475,39.972602260061),
            new BMap.Point(116.33077522825,39.972545728889),
            new BMap.Point(116.33089979873,39.972576084982),
            new BMap.Point(116.33101208755,39.972590060882),
            new BMap.Point(116.3299684901,39.964442484093),
            new BMap.Point(116.32994263929,39.96448653299),
            new BMap.Point(116.32989613385,39.964592469541),
            new BMap.Point(116.3298657392,39.964727761054),
            new BMap.Point(116.32988169526,39.964875702758),
            new BMap.Point(116.32988291141,39.965002683824),
            new BMap.Point(116.32982443774,39.965134568962),
            new BMap.Point(116.32981911616,39.965265711894),
            new BMap.Point(116.32983185679,39.965469327647),
            new BMap.Point(116.32985184793,39.96556294004),
            new BMap.Point(116.33124425047,39.972579133766),
            new BMap.Point(116.33136064487,39.972622116589),
            new BMap.Point(116.33151301881,39.972681467249),
            new BMap.Point(116.33172419931,39.972696392342),
            new BMap.Point(116.33183674704,39.972718566669),
            new BMap.Point(116.33195828964,39.972748234011),
            new BMap.Point(116.33217954509,39.972781277912),
            new BMap.Point(116.33238521021,39.972759733502),
            new BMap.Point(116.33257753404,39.972756561951),
            new BMap.Point(116.33277121467,39.972757470334),
            new BMap.Point(116.33291178958,39.972778848129),
            new BMap.Point(116.33322204984,39.972801766537),
            new BMap.Point(116.33344101248,39.972785375913),
            new BMap.Point(116.33365641314,39.972758749384),
            new BMap.Point(116.33379009301,39.972720054208),
            new BMap.Point(116.33391887992,39.972695809047),
            new BMap.Point(116.33408770771,39.972688498219),
            new BMap.Point(116.33429656383,39.972690267836),
            new BMap.Point(116.3344931705,39.972707669833),
            new BMap.Point(116.33484006102,39.972732466075),
            new BMap.Point(116.33658150889,39.972711539905),
            new BMap.Point(116.33675487218,39.972738461025),
            new BMap.Point(116.33699407337,39.972765097481),
            new BMap.Point(116.33711194248,39.972825121706),
            new BMap.Point(116.33723713664,39.972866913704),
            new BMap.Point(116.33736584877,39.972893221683),
            new BMap.Point(116.33747903443,39.972903663741),
            new BMap.Point(116.33762431746,39.972914122181),
            new BMap.Point(116.33778998512,39.972912221661),
            new BMap.Point(116.33791702415,39.972916623337),
            new BMap.Point(116.33498436526,39.972745880382),
            new BMap.Point(116.33519209328,39.972758930661),
            new BMap.Point(116.33532846173,39.972742344489),
            new BMap.Point(116.33544875541,39.972715622802),
            new BMap.Point(116.33566765984,39.972774769029),
            new BMap.Point(116.33585381873,39.972757206283),
            new BMap.Point(116.33597986085,39.972784750709),
            new BMap.Point(116.3361061436,39.972782999184),
            new BMap.Point(116.33626697096,39.972766282429),
            new BMap.Point(116.33644331944,39.97276762388),
            new BMap.Point(116.33805332817,39.972944302058),
            new BMap.Point(116.33845073037,39.972968907997),
            new BMap.Point(116.3386655958,39.972981685432),
            new BMap.Point(116.33878309825,39.973001990673),
            new BMap.Point(116.3389533169,39.972983941545),
            new BMap.Point(116.33908954183,39.972971582424),
            new BMap.Point(116.33925757598,39.972960649172),
            new BMap.Point(116.33945253294,39.972964756364),
            new BMap.Point(116.33958736858,39.972942426122),
            new BMap.Point(116.33974854656,39.972894706537),
            new BMap.Point(116.33982819157,39.972882258301),
            new BMap.Point(116.33995594258,39.972858931823),
            new BMap.Point(116.34009919713,39.972850449626),
            new BMap.Point(116.34025960665,39.972881229792),
            new BMap.Point(116.34031779227,39.972897979598),
            new BMap.Point(116.34044146289,39.972892099558),
            new BMap.Point(116.34058769695,39.972895873934),
            new BMap.Point(116.3407282164,39.972899156586),
            new BMap.Point(116.34090867625,39.972898171293),
            new BMap.Point(116.34106683249,39.972887020648),
            new BMap.Point(116.34122524211,39.97286449463),
            new BMap.Point(116.34135893647,39.972863822387),
            new BMap.Point(116.34148879781,39.972837949129),
            new BMap.Point(116.34167056651,39.972830027887),
            new BMap.Point(116.34183524643,39.972863460179),
            new BMap.Point(116.34191867816,39.972889135526),
            new BMap.Point(116.34205536185,39.972921369477),
            new BMap.Point(116.34224063514,39.972919769848),
            new BMap.Point(116.34242102123,39.9729326033),
            new BMap.Point(116.34257807371,39.972985174041),
            new BMap.Point(116.34275898352,39.972998062204),
            new BMap.Point(116.34292491888,39.972982541325),
            new BMap.Point(116.34310880414,39.973004432845),
            new BMap.Point(116.34328616846,39.973034517366),
            new BMap.Point(116.34345266017,39.973064121504),
            new BMap.Point(116.34374592164,39.973065989383),
            new BMap.Point(116.34389388449,39.973050669049),
            new BMap.Point(116.34404240419,39.973058161712),
            new BMap.Point(116.34417842619,39.973063262181),
            new BMap.Point(116.34433887987,39.973074024924),
            new BMap.Point(116.34594890678,39.973461673659),
            new BMap.Point(116.34615206417,39.973395350995),
            new BMap.Point(116.34634924964,39.973340194823),
            new BMap.Point(116.34650493485,39.97330461737),
            new BMap.Point(116.34667442615,39.973246812698),
            new BMap.Point(116.34682926797,39.973197173193),
            new BMap.Point(116.3470020255,39.973171713226),
            new BMap.Point(116.34716638758,39.973170427857),
            new BMap.Point(116.34733644827,39.973182468446),
            new BMap.Point(116.34747338584,39.973163575284),
            new BMap.Point(116.34449582714,39.973118467001),
            new BMap.Point(116.34465167509,39.973156964732),
            new BMap.Point(116.34482675913,39.973165603386),
            new BMap.Point(116.34495005668,39.973243819346),
            new BMap.Point(116.34510919928,39.973349132286),
            new BMap.Point(116.34518445886,39.973438843321),
            new BMap.Point(116.34523448008,39.973531849271),
            new BMap.Point(116.34544182622,39.973542718642),
            new BMap.Point(116.34559833623,39.973467659296),
            new BMap.Point(116.34577578777,39.97345420297),
            new BMap.Point(116.34759158088,39.97311754741),
            new BMap.Point(116.347771068,39.973085436983),
            new BMap.Point(116.34791013375,39.973043267041),
            new BMap.Point(116.34801963464,39.972996734226),
            new BMap.Point(116.34816171889,39.973006158729),
            new BMap.Point(116.34830324779,39.973008546461),
            new BMap.Point(116.34848758775,39.972992847864),
            new BMap.Point(116.34862419294,39.972963793329),
            new BMap.Point(116.34875349941,39.972963505115),
            new BMap.Point(116.34891211021,39.97300101432),
            new BMap.Point(116.35076049899,39.973025388629),
            new BMap.Point(116.35093877272,39.973054053291),
            new BMap.Point(116.3510964273,39.973057966989),
            new BMap.Point(116.35121857903,39.973048452369),
            new BMap.Point(116.35146964663,39.973037636498),
            new BMap.Point(116.3516703133,39.973017682656),
            new BMap.Point(116.35189133265,39.973057836154),
            new BMap.Point(116.35202051948,39.973076125546),
            new BMap.Point(116.35222495937,39.973075288651),
            new BMap.Point(116.35234571393,39.973066437058),
            new BMap.Point(116.34910375721,39.973013117896),
            new BMap.Point(116.34930298355,39.973027989245),
            new BMap.Point(116.34942846361,39.973023975383),
            new BMap.Point(116.34955962869,39.973018906941),
            new BMap.Point(116.34968780797,39.973014660156),
            new BMap.Point(116.34992954166,39.973031945608),
            new BMap.Point(116.35010866088,39.97304392116),
            new BMap.Point(116.35034490239,39.973017324265),
            new BMap.Point(116.35046275182,39.973010964034),
            new BMap.Point(116.3505944115,39.973002498084),
            new BMap.Point(116.35416391392,39.973067182374),
            new BMap.Point(116.35433897664,39.973048350004),
            new BMap.Point(116.35455843185,39.97305863558),
            new BMap.Point(116.35480330519,39.973069156886),
            new BMap.Point(116.35493749524,39.97306503081),
            new BMap.Point(116.35507222522,39.973065537687),
            new BMap.Point(116.35523561975,39.973060048026),
            new BMap.Point(116.355421702,39.973025189041),
            new BMap.Point(116.35553338587,39.972988387146),
            new BMap.Point(116.35575786771,39.972961768694),
            new BMap.Point(116.35246569429,39.9731039957),
            new BMap.Point(116.35258347797,39.973113063297),
            new BMap.Point(116.35272453662,39.973118206916),
            new BMap.Point(116.35294544732,39.973120313497),
            new BMap.Point(116.35307782728,39.973125179611),
            new BMap.Point(116.3532053291,39.973129760098),
            new BMap.Point(116.35346895311,39.973110800088),
            new BMap.Point(116.35368110872,39.973066054003),
            new BMap.Point(116.35389411401,39.973077523838),
            new BMap.Point(116.35402509034,39.973069739973),
            new BMap.Point(116.35589284469,39.972972413222),
            new BMap.Point(116.35607351977,39.972978857534),
            new BMap.Point(116.35621120504,39.973007200052),
            new BMap.Point(116.35636970958,39.973037101753),
            new BMap.Point(116.35680295257,39.973077695429),
            new BMap.Point(116.35702611435,39.973175583655),
            new BMap.Point(116.35717641172,39.97314120397),
            new BMap.Point(116.35730863758,39.973160122698),
            new BMap.Point(116.35746382571,39.973165443267),
            new BMap.Point(116.35760278899,39.973173063556),
            new BMap.Point(116.35776392708,39.973195305097),
            new BMap.Point(116.3579147785,39.973209321768),
            new BMap.Point(116.35805128275,39.973207198576),
            new BMap.Point(116.35820238711,39.973215282899),
            new BMap.Point(116.35835807014,39.973212579825),
            new BMap.Point(116.35860188291,39.97324177663),
            new BMap.Point(116.35872942837,39.97322334915),
            new BMap.Point(116.35886752209,39.973219160377),
            new BMap.Point(116.3590564295,39.973231289297),
            new BMap.Point(116.35920369043,39.973218012553),
            new BMap.Point(116.36164903943,39.973293847398),
            new BMap.Point(116.36176733207,39.97330434667),
            new BMap.Point(116.36195556123,39.973314422058),
            new BMap.Point(116.36213947122,39.973334774891),
            new BMap.Point(116.36233494526,39.97331270426),
            new BMap.Point(116.36258091205,39.973303014717),
            new BMap.Point(116.36280038888,39.973273733401),
            new BMap.Point(116.36293645837,39.9732723584),
            new BMap.Point(116.36307198264,39.97326963083),
            new BMap.Point(116.36322153689,39.973262498956),
            new BMap.Point(116.35945826232,39.973253461656),
            new BMap.Point(116.35965793832,39.973254946518),
            new BMap.Point(116.35985246124,39.973246089559),
            new BMap.Point(116.36007375656,39.973276653403),
            new BMap.Point(116.36027692713,39.973293467411),
            new BMap.Point(116.36049734769,39.973279588215),
            new BMap.Point(116.3607212807,39.9732798978),
            new BMap.Point(116.36092224171,39.973279141641),
            new BMap.Point(116.36106593278,39.973277690603),
            new BMap.Point(116.36124823501,39.973269961811),
            new BMap.Point(116.36334193104,39.973254968966),
            new BMap.Point(116.36357922176,39.973262679331),
            new BMap.Point(116.36382622891,39.973282232216),
            new BMap.Point(116.36395281211,39.973270494851),
            new BMap.Point(116.3641522694,39.97326037314),
            new BMap.Point(116.36426128018,39.973226422953),
            new BMap.Point(116.36441726699,39.973210539168),
            new BMap.Point(116.36467016295,39.97322270421),
            new BMap.Point(116.36493973142,39.973183871671),
            new BMap.Point(116.36505849465,39.973209000737),
            new BMap.Point(116.36698796238,39.973237542088),
            new BMap.Point(116.3671614294,39.973245500128),
            new BMap.Point(116.36750754407,39.973265785695),
            new BMap.Point(116.36766345575,39.973264813009),
            new BMap.Point(116.36779482641,39.973273214997),
            new BMap.Point(116.36793455259,39.973277692368),
            new BMap.Point(116.36807776972,39.973268397198),
            new BMap.Point(116.36824689855,39.973282607012),
            new BMap.Point(116.36838500363,39.973293867381),
            new BMap.Point(116.36851555636,39.973307450881),
            new BMap.Point(116.36861940486,39.973319777869),
            new BMap.Point(116.36879741434,39.9733265767),
            new BMap.Point(116.36893874456,39.973336836313),
            new BMap.Point(116.36906144669,39.973328606629),
            new BMap.Point(116.36920113933,39.97332284279),
            new BMap.Point(116.36934596347,39.973328027732),
            new BMap.Point(116.36948323054,39.973329291786),
            new BMap.Point(116.36964287934,39.973332032666),
            new BMap.Point(116.36975507389,39.973345632096),
            new BMap.Point(116.37006815552,39.973350230195),
            new BMap.Point(116.36529947988,39.973214290973),
            new BMap.Point(116.36550348982,39.973223114145),
            new BMap.Point(116.36563300022,39.973211541951),
            new BMap.Point(116.36580707146,39.973246528152),
            new BMap.Point(116.3659983746,39.973247880745),
            new BMap.Point(116.3661640334,39.973242336538),
            new BMap.Point(116.36629219142,39.973243540532),
            new BMap.Point(116.36645919311,39.973240484176),
            new BMap.Point(116.36665046791,39.973234301114),
            new BMap.Point(116.3668449748,39.973229001635),
            new BMap.Point(116.37375711097,39.973483010781),
            new BMap.Point(116.37390133272,39.973481024138),
            new BMap.Point(116.37404663829,39.973486115094),
            new BMap.Point(116.37424613457,39.973499524623),
            new BMap.Point(116.37447444716,39.97348443149),
            new BMap.Point(116.37461084214,39.973476886968),
            new BMap.Point(116.37475502775,39.973440724049),
            new BMap.Point(116.37495233593,39.973425073807),
            new BMap.Point(116.37516880653,39.973436099041),
            new BMap.Point(116.3753197669,39.973441311812),
            new BMap.Point(116.37200637433,39.973472302774),
            new BMap.Point(116.37219403308,39.973486786513),
            new BMap.Point(116.37224470815,39.973475484107),
            new BMap.Point(116.37252671553,39.973481905327),
            new BMap.Point(116.37267850344,39.973487894179),
            new BMap.Point(116.37282650208,39.973479166357),
            new BMap.Point(116.37295941445,39.973483737413),
            new BMap.Point(116.3731395035,39.973488351484),
            new BMap.Point(116.37333923408,39.973453439179),
            new BMap.Point(116.37355894178,39.973451729441),
            new BMap.Point(116.37019085883,39.973361314582),
            new BMap.Point(116.37032948748,39.973391675549),
            new BMap.Point(116.37055434746,39.973364395664),
            new BMap.Point(116.37070588391,39.973362436589),
            new BMap.Point(116.37085744042,39.973384905955),
            new BMap.Point(116.37102704012,39.973385720684),
            new BMap.Point(116.37123008638,39.973403686915),
            new BMap.Point(116.37135790007,39.973416803077),
            new BMap.Point(116.37148894654,39.97342862415),
            new BMap.Point(116.37163618065,39.973453762212),
            new BMap.Point(116.37554623775,39.973483188274),
            new BMap.Point(116.37567559552,39.973448390386),
            new BMap.Point(116.37580820098,39.973428034363),
            new BMap.Point(116.37600039723,39.973427497709),
            new BMap.Point(116.37614002955,39.973427623377),
            new BMap.Point(116.37632686385,39.973459551327),
            new BMap.Point(116.37654901765,39.9734994557),
            new BMap.Point(116.37672590125,39.973556707617),
            new BMap.Point(116.3768706963,39.973601972414),
            new BMap.Point(116.37704888186,39.973608776705),
            new BMap.Point(116.37891566402,39.973652767045),
            new BMap.Point(116.37931367221,39.97377805542),
            new BMap.Point(116.37944305958,39.97376629816),
            new BMap.Point(116.3796120978,39.973778051335),
            new BMap.Point(116.37965576404,39.973771245932),
            new BMap.Point(116.37979512339,39.973753964182),
            new BMap.Point(116.37991641921,39.973734181499),
            new BMap.Point(116.38005686819,39.973726953101),
            new BMap.Point(116.38021295845,39.973723802261),
            new BMap.Point(116.38038874712,39.973738639245),
            new BMap.Point(116.37724081581,39.973616104186),
            new BMap.Point(116.37742521575,39.973637944651),
            new BMap.Point(116.37759966327,39.973682665316),
            new BMap.Point(116.37774466512,39.973657378768),
            new BMap.Point(116.37789236904,39.973638652807),
            new BMap.Point(116.37804411679,39.973619728093),
            new BMap.Point(116.37820992172,39.973643660739),
            new BMap.Point(116.37837923241,39.97366819786),
            new BMap.Point(116.37858630198,39.973712688409),
            new BMap.Point(116.37876986927,39.97370111888),
            new BMap.Point(116.38218059395,39.973728486816),
            new BMap.Point(116.38231188169,39.973700400861),
            new BMap.Point(116.38247012274,39.97365839994),
            new BMap.Point(116.38265616334,39.973641840291),
            new BMap.Point(116.38283599158,39.973609966457),
            new BMap.Point(116.38322161267,39.973618542927),
            new BMap.Point(116.38339961416,39.973640874009),
            new BMap.Point(116.38362862195,39.973699885292),
            new BMap.Point(116.38386114229,39.973759209012),
            new BMap.Point(116.38406987168,39.973747559216),
            new BMap.Point(116.38424387611,39.973802601343),
            new BMap.Point(116.3843782261,39.973844754063),
            new BMap.Point(116.38451284227,39.973880391813),
            new BMap.Point(116.38469278974,39.973934417581),
            new BMap.Point(116.3848861911,39.973947951678),
            new BMap.Point(116.38506260128,39.973957661559),
            new BMap.Point(116.38520315819,39.973986304353),
            new BMap.Point(116.3853819885,39.97397866381),
            new BMap.Point(116.38553577242,39.974010216817),
            new BMap.Point(116.38571654626,39.974053595012),
            new BMap.Point(116.38057506599,39.973768583518),
            new BMap.Point(116.3808025715,39.973727080496),
            new BMap.Point(116.38091544927,39.973632231102),
            new BMap.Point(116.38103506417,39.973533157625),
            new BMap.Point(116.38136165806,39.973636124637),
            new BMap.Point(116.38151133535,39.973679758816),
            new BMap.Point(116.38164212016,39.973700530627),
            new BMap.Point(116.38177209636,39.973719926943),
            new BMap.Point(116.38191203072,39.9737177867),
            new BMap.Point(116.38204226099,39.973716555567),
            new BMap.Point(116.38591593966,39.974097802272),
            new BMap.Point(116.38612447889,39.974105777565),
            new BMap.Point(116.38634570295,39.974111492812),
            new BMap.Point(116.38652561734,39.97407365586),
            new BMap.Point(116.38656067323,39.974054675251),
            new BMap.Point(116.38673999731,39.974252068615),
            new BMap.Point(116.38714621919,39.974125746345),
            new BMap.Point(116.38732320248,39.974101358946),
            new BMap.Point(116.38752799571,39.974089050701),
            new BMap.Point(116.38770015695,39.974090060632),
            new BMap.Point(116.39127479997,39.974118656044),
            new BMap.Point(116.39139281484,39.974119924521),
            new BMap.Point(116.39163101182,39.974118933113),
            new BMap.Point(116.39181762498,39.974106122204),
            new BMap.Point(116.39199749003,39.974088860422),
            new BMap.Point(116.39215336012,39.974112250316),
            new BMap.Point(116.39235108167,39.974110361663),
            new BMap.Point(116.39249964017,39.974098890125),
            new BMap.Point(116.39262795769,39.974102895393),
            new BMap.Point(116.39278815449,39.974104287354),
            new BMap.Point(116.38789121318,39.974090527288),
            new BMap.Point(116.38808550243,39.974077455227),
            new BMap.Point(116.38826122104,39.974112655638),
            new BMap.Point(116.38836697051,39.97406484984),
            new BMap.Point(116.38857422518,39.974043777125),
            new BMap.Point(116.38870486922,39.97405927162),
            new BMap.Point(116.38890461971,39.974081735907),
            new BMap.Point(116.38911571979,39.97410949654),
            new BMap.Point(116.38929748625,39.974225811727),
            new BMap.Point(116.38945892675,39.974245759854),
            new BMap.Point(116.38957932389,39.974247472575),
            new BMap.Point(116.38974638462,39.974202619697),
            new BMap.Point(116.38989323753,39.974195184179),
            new BMap.Point(116.39008680948,39.974197066951),
            new BMap.Point(116.39025473347,39.974190975338),
            new BMap.Point(116.39036538347,39.974139581334),
            new BMap.Point(116.39050036929,39.9741246),
            new BMap.Point(116.39067129282,39.974133970753),
            new BMap.Point(116.39096881137,39.974083143147),
            new BMap.Point(116.39113896579,39.974117686035),
            new BMap.Point(116.39296703466,39.974145228337),
            new BMap.Point(116.39310099222,39.974095529043),
            new BMap.Point(116.39323171038,39.974043879086),
            new BMap.Point(116.39338085642,39.974048056437),
            new BMap.Point(116.39363897481,39.974134052761),
            new BMap.Point(116.39376059906,39.974165551383),
            new BMap.Point(116.39392115007,39.974208327986),
            new BMap.Point(116.39432661729,39.97432214636),
            new BMap.Point(116.39444688723,39.974325888252),
            new BMap.Point(116.39487039545,39.974299983385),
            new BMap.Point(116.39509419543,39.974285472921),
            new BMap.Point(116.39523074035,39.974322953958),
            new BMap.Point(116.39540376207,39.974334192937),
            new BMap.Point(116.39553349363,39.974298036802),
            new BMap.Point(116.39564077518,39.974245094746),
            new BMap.Point(116.39580405322,39.974222805814),
            new BMap.Point(116.39595765036,39.974250602273),
            new BMap.Point(116.39608824532,39.974249942102),
            new BMap.Point(116.39621423311,39.974232401147),
            new BMap.Point(116.39643272996,39.974240932378),
            new BMap.Point(116.40021243258,39.974699688884),
            new BMap.Point(116.40037622897,39.974704159039),
            new BMap.Point(116.40049886084,39.974687482312),
            new BMap.Point(116.40063449444,39.97467140533),
            new BMap.Point(116.40075985272,39.974664482629),
            new BMap.Point(116.40087004632,39.974650953916),
            new BMap.Point(116.40096698086,39.974643858369),
            new BMap.Point(116.40103145022,39.974971163727),
            new BMap.Point(116.40126531426,39.97484641971),
            new BMap.Point(116.40147058326,39.974829488804),
            new BMap.Point(116.39829742897,39.974478745504),
            new BMap.Point(116.39850173753,39.974507675311),
            new BMap.Point(116.39872903103,39.974504713949),
            new BMap.Point(116.39884593843,39.974511515279),
            new BMap.Point(116.39902646215,39.974536111631),
            new BMap.Point(116.39940572894,39.974647204291),
            new BMap.Point(116.39957138087,39.974653977091),
            new BMap.Point(116.39970563803,39.974656186498),
            new BMap.Point(116.39986563867,39.974682959549),
            new BMap.Point(116.39998854082,39.974687778199),
            new BMap.Point(116.40319854923,39.974657883289),
            new BMap.Point(116.40341809375,39.974702759492),
            new BMap.Point(116.40360080762,39.974761602662),
            new BMap.Point(116.40378436523,39.974842666928),
            new BMap.Point(116.40389983517,39.974850274697),
            new BMap.Point(116.40411075439,39.974893629109),
            new BMap.Point(116.4042925879,39.974830785276),
            new BMap.Point(116.40450021938,39.974804860503),
            new BMap.Point(116.40464931768,39.974793994266),
            new BMap.Point(116.40596948587,39.97461138556),
            new BMap.Point(116.40158077299,39.974783596943),
            new BMap.Point(116.40169909602,39.974742071627),
            new BMap.Point(116.40181851495,39.974709492539),
            new BMap.Point(116.40194254595,39.974679904482),
            new BMap.Point(116.40205060309,39.974654035096),
            new BMap.Point(116.40225427635,39.974612525868),
            new BMap.Point(116.40239480191,39.974528951304),
            new BMap.Point(116.40273294858,39.97456138953),
            new BMap.Point(116.40289689645,39.974587455451),
            new BMap.Point(116.40306980702,39.974626820592),
            new BMap.Point(116.40733367819,39.974769786092),
            new BMap.Point(116.4075279937,39.974793743143),
            new BMap.Point(116.40775569403,39.974808395209),
            new BMap.Point(116.40795436608,39.974817885922),
            new BMap.Point(116.40813945421,39.974798598586),
            new BMap.Point(116.40832348109,39.974794204913),
            new BMap.Point(116.4084388717,39.974823834334),
            new BMap.Point(116.40858655895,39.974840359092),
            new BMap.Point(116.4090227558,39.974755236263),
            new BMap.Point(116.40914548683,39.974766046729),
            new BMap.Point(116.40934559425,39.974761432442),
            new BMap.Point(116.40950281625,39.974763420681),
            new BMap.Point(116.40972169939,39.974775232143),
            new BMap.Point(116.41003540823,39.974816523228),
            new BMap.Point(116.41015850324,39.974885827379),
            new BMap.Point(116.41034942735,39.974865590169),
            new BMap.Point(116.4105112776,39.974822096645),
            new BMap.Point(116.41062969347,39.97480154756),
            new BMap.Point(116.41076170905,39.974795039515),
            new BMap.Point(116.410913272,39.974768080423),
            new BMap.Point(116.40609372732,39.974628794796),
            new BMap.Point(116.40610322335,39.974935695125),
            new BMap.Point(116.40621445459,39.974958241979),
            new BMap.Point(116.40642118396,39.974990275898),
            new BMap.Point(116.40653258211,39.97488226929),
            new BMap.Point(116.40665033715,39.974901512631),
            new BMap.Point(116.40681555286,39.974896031608),
            new BMap.Point(116.40693460175,39.974832480426),
            new BMap.Point(116.40700832703,39.97474994882),
            new BMap.Point(116.40716134546,39.974737093774),
            new BMap.Point(116.39657067849,39.974278275896),
            new BMap.Point(116.39669646247,39.974315223535),
            new BMap.Point(116.39689580079,39.974338422789),
            new BMap.Point(116.39708621316,39.97434821551),
            new BMap.Point(116.39734643963,39.97437837249),
            new BMap.Point(116.39752281361,39.974390961282),
            new BMap.Point(116.39765970528,39.97440754557),
            new BMap.Point(116.39786964602,39.974425508624),
            new BMap.Point(116.39798058051,39.974442662947),
            new BMap.Point(116.39811748936,39.974457564805),
            new BMap.Point(116.41316619115,39.974758013314),
            new BMap.Point(116.41330096645,39.974679545206),
            new BMap.Point(116.41339962439,39.974642814564),
            new BMap.Point(116.41351949392,39.974607562633),
            new BMap.Point(116.41339465084,39.974553843386),
            new BMap.Point(116.41336521633,39.974473986235),
            new BMap.Point(116.41323388767,39.974457466676),
            new BMap.Point(116.41321268062,39.974455702544),
            new BMap.Point(116.41343042481,39.974426615893),
            new BMap.Point(116.4136202449,39.974472026292),
            new BMap.Point(116.41129455714,39.974589459887),
            new BMap.Point(116.41129158133,39.974603855337),
            new BMap.Point(116.4114033101,39.97466845689),
            new BMap.Point(116.41165876288,39.97470737818),
            new BMap.Point(116.41178676654,39.974724372803),
            new BMap.Point(116.41191778497,39.97476413033),
            new BMap.Point(116.41219557164,39.974810678983),
            new BMap.Point(116.4127095708,39.974839231506),
            new BMap.Point(116.41284524893,39.974879936688),
            new BMap.Point(116.41300260005,39.974830402636),
            new BMap.Point(116.41534958819,39.974657707249),
            new BMap.Point(116.41548396008,39.974637870168),
            new BMap.Point(116.41565644323,39.974637503645),
            new BMap.Point(116.41582483979,39.974621408934),
            new BMap.Point(116.41599620318,39.974567003679),
            new BMap.Point(116.41620815394,39.974552100327),
            new BMap.Point(116.41633796832,39.974571554364),
            new BMap.Point(116.41665047756,39.974690250079),
            new BMap.Point(116.41676366952,39.974667753785),
            new BMap.Point(116.41700837485,39.974707216393),
            new BMap.Point(116.41897676689,39.974207305057),
            new BMap.Point(116.41880983524,39.974198027894),
            new BMap.Point(116.41865086324,39.974250783228),
            new BMap.Point(116.41851372894,39.974357826201),
            new BMap.Point(116.41840307474,39.974235006042),
            new BMap.Point(116.41842913331,39.974147079451),
            new BMap.Point(116.41844728791,39.974050282444),
            new BMap.Point(116.41844802614,39.973963712329),
            new BMap.Point(116.41843372059,39.973801866848),
            new BMap.Point(116.41844556292,39.973651137565),
            new BMap.Point(116.41380570679,39.974496812091),
            new BMap.Point(116.41397598091,39.974554779812),
            new BMap.Point(116.4142362927,39.97462970858),
            new BMap.Point(116.41436825433,39.974701192216),
            new BMap.Point(116.41455240379,39.974732379079),
            new BMap.Point(116.41466691611,39.974742634422),
            new BMap.Point(116.41479364942,39.974727547924),
            new BMap.Point(116.4149309837,39.974699067895),
            new BMap.Point(116.41500114181,39.974676805076),
            new BMap.Point(116.41516160791,39.97465001362),
            new BMap.Point(116.41844323902,39.973492148093),
            new BMap.Point(116.41845481096,39.973344406223),
            new BMap.Point(116.41846643963,39.973258532728),
            new BMap.Point(116.41834368553,39.973301906731),
            new BMap.Point(116.41822930827,39.97327245721),
            new BMap.Point(116.4182124067,39.97324902772),
            new BMap.Point(116.41809503169,39.973212000002),
            new BMap.Point(116.41770713017,39.973246663511),
            new BMap.Point(116.41867340844,39.975103672912),
            new BMap.Point(116.41883487236,39.975095389656),
            new BMap.Point(116.41899178379,39.975166372455),
            new BMap.Point(116.41914180464,39.975136742616),
            new BMap.Point(116.41909072016,39.974955510394),
            new BMap.Point(116.41905523238,39.974858220992),
            new BMap.Point(116.41904562214,39.974769324658),
            new BMap.Point(116.41900543857,39.974597735422),
            new BMap.Point(116.41899555611,39.974509384296),
            new BMap.Point(116.41902099964,39.974338147307),
            new BMap.Point(116.41714721485,39.974743050702),
            new BMap.Point(116.41731000217,39.974766965832),
            new BMap.Point(116.41745865666,39.974807010544),
            new BMap.Point(116.4175795637,39.974860613424),
            new BMap.Point(116.41766511604,39.974947668289),
            new BMap.Point(116.41785820072,39.975035787474),
            new BMap.Point(116.41805959903,39.974970476505),
            new BMap.Point(116.41820304927,39.974941293641),
            new BMap.Point(116.41836751558,39.974963970497),
            new BMap.Point(116.41849503788,39.975075485995),


        ];

        g_map = new BMap.Map("allmap");
        g_map.centerAndZoom(g_points[0], 14);
        g_map.enableScrollWheelZoom();
        g_map.addControl(new BMap.NavigationControl());
        g_map.addControl(new BMap.ScaleControl());
        g_map.addControl(new BMap.OverviewMapControl({isOpen: true}));
        //通过DrivingRoute获取一条路线的point
        let thisObj = this;
        let driving = new BMap.DrivingRoute(g_map);
        driving.search(g_points[0], g_points[g_points.length - 1]);
        driving.setSearchCompleteCallback(function() {
            //得到路线上的所有point
            g_points = driving.getResults().getPlan(0).getRoute(0).getPath();
            //画面移动到起点和终点的中间
            let centerPoint = new BMap.Point((g_points[0].lng + g_points[g_points.length - 1].lng) / 2, (g_points[0].lat + g_points[g_points.length - 1].lat) / 2);
            g_map.panTo(centerPoint);
            //连接所有点
            g_map.addOverlay(new BMap.Polyline(g_points, {strokeColor: "#A52A2A", strokeWeight: 5, strokeOpacity: 1}));
            //显示小车子
            g_car = new BMap.Marker(g_points[0]);
            g_map.addOverlay(g_car);
            //定时刷新
            thisObj.timer = setInterval(
                function(){
                    thisObj.replay();
                }.bind(this)
                , 400
            );
        });
    }

    componentWillUnmount() {
        this.timer && clearTimeout(this.timer);
    }

    replay () {
        if(g_car){
            let point = g_points[g_index];
            if(g_index > 0) {
                g_map.addOverlay(new g_BMap.Polyline([g_points[g_index - 1], point], {strokeColor: "red", strokeWeight: 1, strokeOpacity: 1}));
            }
            g_car.setPosition(point);
            // g_map.panTo(point);
            if(g_index < g_points.length - 1){
                g_index++;
            }else{
                g_index = 0;
            }
        }
    }

    render () {
        return (
                <div
                    id='allmap'
                    style={mapStyle} />
        )
    }
}

export default withWidth()(Riding);
