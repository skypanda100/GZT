<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="../mdl/material.cyan-light_blue.min.css">
    <link rel="stylesheet" href="../ext/styles.css">
    <script src="../ext/echarts.min.js"></script>
    <script src="../ext/jquery.min.js"></script>
    <link rel="stylesheet" href="../ext/components.css">
    <link rel="stylesheet" href="../ext/main.css">

</head>
<body>
<div class="content mdl-grid mdl-grid--no-spacing" id="content">
    <div class="mdl-components mdl-js-components mdl-cell mdl-cell--12-col">
        <aside class="mdl-components__nav docs-text-styling mdl-shadow--4dp">
            <a href="javascript:void(0);" class="mdl-components__link mdl-component is-active" id="day_compare" onclick="sideBarClicked(this, 0)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt9.jpg')">
                </div>
                <span class="mdl-components__link-text">日别比较</span>
            </a>

            <a href="javascript:void(0);" class="mdl-components__link mdl-component" id="week_compare" onclick="sideBarClicked(this, 1)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt1.jpg')">
                </div>
                <span class="mdl-components__link-text">周别比较</span>
            </a>

            <a href="javascript:void(0);" class="mdl-components__link mdl-component" id="month_compare" onclick="sideBarClicked(this, 2)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt2.jpg')">
                </div>
                <span class="mdl-components__link-text">月别比较</span>
            </a>

            <!--<a href="javascript:void(0);" class="mdl-components__link mdl-component" id="year_compare" onclick="sideBarClicked(this, 3)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt3.jpg')">
                </div>
                <span class="mdl-components__link-text">年别比较</span>
            </a>-->

            <a href="javascript:void(0);" class="mdl-components__link mdl-component" id="sleep_time_compare" onclick="sideBarClicked(this, 4)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt4.jpg')">
                </div>
                <span class="mdl-components__link-text">入睡起床时间</span>
            </a>

            <a href="javascript:void(0);" class="mdl-components__link mdl-component" id="history_compare" onclick="sideBarClicked(this, 5)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt5.jpg')">
                </div>
                <span class="mdl-components__link-text">历史合计比较</span>
            </a>

            <a href="javascript:void(0);" class="mdl-components__link mdl-component" id="save_data" onclick="sideBarClicked(this, 6)">
                <div class="mdl-components__link-image"
                     style="background-image: url('../images/tt6.jpg')">
                </div>
                <span class="mdl-components__link-text">数据记录</span>
            </a>
        </aside>
        <main class="mdl-components__pages" id="content_day_compare">
            <div class="mdl-grid page-content">
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_day_bar">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_day_pie">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_day_line">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                    <div style="width:100%;height:400px;" id="gzt_sleep_day">
                    </div>
                </div>
            </div>
        </main>
        <main class="mdl-components__pages" id="content_week_compare">
            <div class="mdl-grid page-content">
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_week_bar">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_week_pie">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_week_line">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">
                    <div style="width:100%;height:400px;" id="gzt_sleep_week">
                    </div>
                </div>
            </div>
        </main>
        <main class="mdl-components__pages" id="content_month_compare">
            <div class="mdl-grid page-content">
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_month_bar">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_month_pie">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--4-col">
                    <div style="width:100%;height:350px;" id="gzt_sleep_one_month_line">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">
                    <div style="width:100%;height:400px;" id="gzt_sleep_month">
                    </div>
                </div>
            </div>
        </main>
        <main class="mdl-components__pages" id="content_sleep_time_compare">
            <div class="mdl-grid page-content">
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">
                    <div style="width:100%;height:400px;" id="gzt_sleep_start_scatter">
                    </div>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">
                    <div style="width:100%;height:400px;" id="gzt_sleep_end_scatter">
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script src="../mdl/material.min.js"></script>
<script src="sleep.js"></script>
<script>
        $(function(){
            searchSleepData(0);
        });

    function searchSleepData(method){
        $.post("sleep.php", {},
            function(data){
                var data_r = eval("(" + data + ")");
                if(method == 0){
                    $("main").addClass("hidden");
                    $("#content_day_compare").removeClass("hidden").addClass("block");

                    sleepDataOneDay(data_r.date_day[data_r.date_day.length - 1]
                        , data_r.gg_deep_day[data_r.gg_deep_day.length - 1]
                        , data_r.gg_shallow_day[data_r.gg_shallow_day.length - 1]
                        , data_r.zdt_deep_day[data_r.zdt_deep_day.length - 1]
                        , data_r.zdt_shallow_day[data_r.zdt_shallow_day.length - 1]);

                    sleepDataDay(data_r.date_day
                        , data_r.gg_deep_day
                        , data_r.gg_shallow_day
                        , data_r.zdt_deep_day
                        , data_r.zdt_shallow_day);

                }else if(method == 1){
                    $("main").addClass("hidden");
                    $("#content_week_compare").removeClass("hidden").addClass("block");

                    sleepDataOneWeek(data_r.date_week[data_r.date_week.length - 1]
                        , data_r.gg_deep_week[data_r.gg_deep_week.length - 1]
                        , data_r.gg_shallow_week[data_r.gg_shallow_week.length - 1]
                        , data_r.zdt_deep_week[data_r.zdt_deep_week.length - 1]
                        , data_r.zdt_shallow_week[data_r.zdt_shallow_week.length - 1]);

                    sleepDataWeek(data_r.date_week
                        , data_r.gg_deep_week
                        , data_r.gg_shallow_week
                        , data_r.zdt_deep_week
                        , data_r.zdt_shallow_week);

                }else if(method == 2){
                    $("main").addClass("hidden");
                    $("#content_month_compare").removeClass("hidden").addClass("block");

                    sleepDataOneMonth(data_r.date_month[data_r.date_month.length - 1]
                        , data_r.gg_deep_month[data_r.gg_deep_month.length - 1]
                        , data_r.gg_shallow_month[data_r.gg_shallow_month.length - 1]
                        , data_r.zdt_deep_month[data_r.zdt_deep_month.length - 1]
                        , data_r.zdt_shallow_month[data_r.zdt_shallow_month.length - 1]);

                    sleepDataMonth(data_r.date_month
                        , data_r.gg_deep_month
                        , data_r.gg_shallow_month
                        , data_r.zdt_deep_month
                        , data_r.zdt_shallow_month);

                }else if(method == 3){

                }else if(method == 4){
                    $("main").addClass("hidden");
                    $("#content_sleep_time_compare").removeClass("hidden").addClass("block");

                    sleepDataScatter(data_r.gg_sleep_start, data_r.gg_sleep_end, data_r.zdt_sleep_start, data_r.zdt_sleep_end);

                }else if(method == 5){

                }else{

                }
            });
    }

    function sideBarClicked(obj, method){
            var id = obj.id;
            $("aside").find("a").removeClass("is-active");
            $("#" + id).addClass("is-active");
            searchSleepData(method);
    }
</script>
</body>
</html>